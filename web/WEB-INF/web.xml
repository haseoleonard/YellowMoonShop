<?xml version="1.0" encoding="UTF-8"?>
<web-app version="3.1" xmlns="http://xmlns.jcp.org/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd">
    <filter>
        <filter-name>FilterDispatcher</filter-name>
        <filter-class>nghiadhse140362.filter.FilterDispatcher</filter-class>
    </filter>
    <filter>
        <filter-name>LoadProductFilter</filter-name>
        <filter-class>nghiadhse140362.filter.LoadProductFilter</filter-class>
    </filter>
    <filter>
        <filter-name>LoadCategoryAndStatusFilter</filter-name>
        <filter-class>nghiadhse140362.filter.LoadCategoryAndStatusFilter</filter-class>
    </filter>
    <filter>
        <filter-name>AdminCheckFilter</filter-name>
        <filter-class>nghiadhse140362.filter.AdminCheckFilter</filter-class>
    </filter>
    <filter>
        <filter-name>AdminDenyFilter</filter-name>
        <filter-class>nghiadhse140362.filter.AdminDenyFilter</filter-class>
    </filter>
    <filter>
        <filter-name>CartItemPriceUpdateFilter</filter-name>
        <filter-class>nghiadhse140362.filter.CartItemPriceUpdateFilter</filter-class>
    </filter>
    <filter>
        <filter-name>LoadPaymentMethodFilter</filter-name>
        <filter-class>nghiadhse140362.filter.LoadPaymentMethodFilter</filter-class>
    </filter>
    <filter>
        <filter-name>LoadImageFilter</filter-name>
        <filter-class>nghiadhse140362.filter.LoadImageFilter</filter-class>
    </filter>
    <!---->
    <!---->
    <filter>
        <filter-name>StockQuantityCheckFilter</filter-name>
        <filter-class>nghiadhse140362.filter.StockQuantityCheckFilter</filter-class>
    </filter>
    <filter>
        <filter-name>CreateAccountFilter</filter-name>
        <filter-class>nghiadhse140362.filter.CreateAccountFilter</filter-class>
    </filter>
    <filter>
        <filter-name>GuestDenyFilter</filter-name>
        <filter-class>nghiadhse140362.filter.GuestDenyFilter</filter-class>
    </filter>
    <filter>
        <filter-name>CheckOutFilter</filter-name>
        <filter-class>nghiadhse140362.filter.CheckOutFilter</filter-class>
    </filter>
    <filter-mapping>
        <filter-name>FilterDispatcher</filter-name>
        <url-pattern>/*</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>GuestDenyFilter</filter-name>
        <url-pattern>/TrackOrderServlet</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>AdminCheckFilter</filter-name>
        <url-pattern>/adminpage.jsp</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>AdminCheckFilter</filter-name>
        <url-pattern>/updateproduct.jsp</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>AdminCheckFilter</filter-name>
        <url-pattern>/createproduct.jsp</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>AdminCheckFilter</filter-name>
        <url-pattern>/UpdateProductServlet</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>AdminCheckFilter</filter-name>
        <url-pattern>/CreateProductServlet</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>AdminCheckFilter</filter-name>
        <url-pattern>/SearchProductAdminServlet</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>AdminCheckFilter</filter-name>
        <url-pattern>/CategoryCreateServlet</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>AdminDenyFilter</filter-name>
        <url-pattern>/viewcart.jsp</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>AdminDenyFilter</filter-name>
        <url-pattern>/checkout.jsp</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>AdminDenyFilter</filter-name>
        <url-pattern>/traceorder.jsp</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>AdminDenyFilter</filter-name>
        <url-pattern>/AddToCartServlet</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>AdminDenyFilter</filter-name>
        <url-pattern>/RemoveFromCartServlet</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>AdminDenyFilter</filter-name>
        <url-pattern>/CheckOutServlet</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>AdminDenyFilter</filter-name>
        <url-pattern>/TrackOrderServlet</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>AdminDenyFilter</filter-name>
        <url-pattern>/UpdateCartServlet</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>CheckOutFilter</filter-name>
        <url-pattern>/CheckOutServlet</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>CreateAccountFilter</filter-name>
        <url-pattern>/CreateAccountServlet</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>CartItemPriceUpdateFilter</filter-name>
        <url-pattern>/viewcart.jsp</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>CartItemPriceUpdateFilter</filter-name>
        <url-pattern>/checkout.jsp</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>CartItemPriceUpdateFilter</filter-name>
        <url-pattern>/CheckOutServlet</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>StockQuantityCheckFilter</filter-name>
        <url-pattern>/checkout.jsp</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>StockQuantityCheckFilter</filter-name>
        <url-pattern>/CheckOutServlet</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>LoadProductFilter</filter-name>
        <url-pattern>/productlist.jsp</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>LoadCategoryAndStatusFilter</filter-name>
        <url-pattern>/createproduct.jsp</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>LoadCategoryAndStatusFilter</filter-name>
        <url-pattern>/updateproduct.jsp</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>LoadCategoryAndStatusFilter</filter-name>
        <url-pattern>/productlist.jsp</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>LoadImageFilter</filter-name>
        <url-pattern>/adminpage.jsp</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>LoadImageFilter</filter-name>
        <url-pattern>/productlist.jsp</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <filter-mapping>
        <filter-name>LoadPaymentMethodFilter</filter-name>
        <url-pattern>/checkout.jsp</url-pattern>
        <dispatcher>REQUEST</dispatcher>
        <dispatcher>FORWARD</dispatcher>
    </filter-mapping>
    <listener>
        <description>ServletContextListener</description>
        <listener-class>nghiadhse140362.listener.ServletContextListener</listener-class>
    </listener>
    <servlet>
        <servlet-name>CreateProductServlet</servlet-name>
        <servlet-class>nghiadhse140362.servlets.CreateProductServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>CreateProductServlet</servlet-name>
        <url-pattern>/CreateProductServlet</url-pattern>
    </servlet-mapping>
    <session-config>
        <session-timeout>
            30
        </session-timeout>
    </session-config>
    <error-page>
        <error-code>401</error-code>
        <location>/loginrequired.jsp</location>
    </error-page>
    <error-page>
        <error-code>403</error-code>
        <location>/permissiondenied.jsp</location>
    </error-page>
    <error-page>
        <error-code>404</error-code>
        <location>/resourcenotfound.jsp</location>
    </error-page>
    <error-page>
        <error-code>500</error-code>
        <location>/servererror.jsp</location>
    </error-page>
    <context-param>
        <param-name>IMAGE_UPLOAD_DIR</param-name>
        <param-value>C:\\ProductImg</param-value>
        <!--<param-value>/mnt/extern-drive-1/ProductImg</param-value>-->
    </context-param>
    <context-param>
        <param-name>MOMO_ACCESS_KEY</param-name>
        <param-value></param-value>
    </context-param>
    <context-param>
        <param-name>MOMO_PARTNER_CODE</param-name>
        <param-value></param-value>
    </context-param>
    <context-param>
        <param-name>MOMO_SECRET_KEY</param-name>
        <param-value></param-value>
    </context-param>
    <context-param>
        <param-name>MOMO_PORTAL</param-name>
        <param-value>https://test-payment.momo.vn/gw_payment/transactionProcessor</param-value>
    </context-param>
    <context-param>
        <param-name>MOMO_RETURN_URL</param-name>
        <param-value>http://localhost:8084/YellowMoon/momoReturn</param-value>
    </context-param>
    <context-param>
        <param-name>MOMO_NOTIFY_URL</param-name>
        <param-value>http://localhost:8084/YellowMoon/momoReturn</param-value>
    </context-param>
    <context-param>
        <param-name>GOOGLE_CLIENT_ID</param-name>
        <param-value></param-value>
    </context-param>
    <resource-ref>
        <res-ref-name>YellowMoonDB</res-ref-name>
        <res-type>javax.sql.DataSource</res-type>
        <res-auth>Container</res-auth>
        <res-sharing-scope>Shareable</res-sharing-scope>
    </resource-ref>
</web-app>
